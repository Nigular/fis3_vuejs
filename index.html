<!DOCTYPE html>
<html>
	<head>
		<title>首页</title>
		<link rel="import" href="./modules/_template_mate.html?__inline">
	</head>
	<body class="page_index">
    <div id="app">
	    <mt-swipe :auto="0">
	      <mt-swipe-item class="slide" v-for='item in banners'><a v-bind:href="item.link"><img v-bind:src="item.cover_img"/></a></mt-swipe-item>
	    </mt-swipe>
	    
	    <div class="photo_list">
		  	<ul>
		  		<li v-for="(item,index) in products" v-bind:class="{ bigone: index==6 }">
		  			<a v-bind:href="'./detail.html?id='+item.id">
		  				<img v-bind:src="item.cover_img"/>
		  				<span class="title">{{item.title}}</span><font v-if="index==6">(电话提前预约)</font>
		  				<span class="sub_tit">{{item.title_en}}</span>
		  				<span class="big_tit">{{item.title_en}}</span>
		  			</a>
		  		</li>
		  	</ul>
		</div>
	</div>
    <link rel="import" href="./modules/_template_script.html?__inline">
    <script type="text/javascript">
    	var app = new Vue({
		  el: '#app',
		  data: {
		    banners:[],
		    products:[]
		  },
		  methods:{
		  	goDetail:function(id){
		  		window.location.href="./detail.html/pid/"+id;
		  	}
		  },
		  mounted(){
		  	var _this=this;
		  	/**获取banner**/
		  	axios.get(API_getBanners).then(function(respond){
		  		if(respond.data.code==1){
		  			_this.banners=respond.data.list;
		  		}
		  	}).catch(function(error) {
				console.log(error);
			});
			
			/**获取展示产品**/
			axios.get(API_getProducts).then(function(respond){
		  		if(respond.data.code==1){
		  			_this.products=respond.data.list;
		  		}
		  	}).catch(function(error) {
				console.log(error);
			});
		  }
		});
    </script>
	</body>
</html>