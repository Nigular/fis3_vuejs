<!DOCTYPE html>
<html>
	<head>
		<title>选择套餐</title>
		<link rel="import" href="./modules/_template_mate.html?__inline">
	</head>
	<body class="page_package">
    <div id="app">
	    <div class="top_tip">可加选其他产品组成套餐(非必选)：</div>
	    <div class="list">
	    	<li v-bind:class="{'active':item.checked}" v-for="(item,ind) in res.list" v-on:click="selectedPackage(ind)">
	    		<div class="img">
	    			<img class="avatar" v-bind:src="item.cover_img"/>
	    			<div class="cover"><img src="images/tick.png"/></div>
	    		</div>
	    		<div class="tit">{{item.title}}</div>
	    		<div class="m-tit">{{item.title_en}}</div>
	    		<div class="price"><font>￥</font>{{item.money}}</div>
	    		<s class="d-price">{{item.money}}</s>
	    		<div class="add"><img src="images/add.png"/></div>
	    		<div class="reduce_money">立减{{item.reduce_money}}元</div>
	    	</li>
	    </div>
	    <div class="ctrl">
	  		<div class="pre">返回</div>
	  		<div class="next"><font>共计：</font>￥420&nbsp;下一步</div>
	  	</div>
	</div>
    <link rel="import" href="./modules/_template_script.html?__inline">
    <script type="text/javascript">
    	var app = new Vue({
		  el: '#app',
		  data: {
		  	res:[],
		    package_ids:[]
		  },
		  created:function(){
		  	var _this=this;
		  	axios.get('./data/getpackage.json').then(function(res){
		  		if(res.data.code==1){
		  			_this.res=res.data;
		  		}else{
		  			console.log(res.data.msg); //错误提示
		  		}
		  	}).catch(function(error){
		  		
		  	})
		  },
		  methods:{
		  	selectedPackage(ind) {  
		  		var mark = this.res.list[ind].checked;
		  		this.res.list[ind].checked = !mark;
			}  
		  },
		  mounted:function(){
		  	
		  }
		});
    </script>
	</body>
</html>